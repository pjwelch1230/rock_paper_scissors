<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <button id="r">ROCK</button>
        <button id="p">PAPER</button>
        <button id="s">SCISSORS</button>
        <div id="result"></div>
        <div id="score"></div>
        <script>
            let humanScore = 0;
            let computerScore = 0;
            
            const result = document.querySelector("#result");
            result.textContent = "Press a button to begin play";

            const score = document.querySelector("#score"); 
            score.textContent = `${humanScore}-${computerScore}`;

            function getComputerChoice() {
                let choice = Math.floor(Math.random() * 3);
                switch (choice) {
                    case 0:
                        return "rock";
                        break;
                    case 1:
                        return "paper";
                        break;
                    case 2:
                        return "scissors";
                        break;
                }
            }

            function playRound(humanChoice, computerChoice){
                if (humanChoice == computerChoice) {
                    result.textContent="Draw!";
                }  else if (humanChoice == "paper" && computerChoice == "rock") {
                    humanScore++
                    result.textContent=`You win! ${humanChoice} beats ${computerChoice}!`;
                }  else if (humanChoice == "rock" && computerChoice == "scissors") {
                    humanScore++
                    result.textContent=`You win! ${humanChoice} beats ${computerChoice}!`;
                }  else if (humanChoice == "scissors" && computerChoice == "paper") {
                    humanScore++
                    result.textContent=`You win! ${humanChoice} beats ${computerChoice}!`;
                }  else if (humanChoice == "rock" && computerChoice == "paper") {
                    computerScore++
                    result.textContent=`You lose! ${computerChoice} beats ${humanChoice}`;
                }  else if (humanChoice == "paper" && computerChoice == "scissors") {
                    computerScore++
                    result.textContent=`You lose! ${computerChoice} beats ${humanChoice}`;
                }  else if (humanChoice == "scissors" && computerChoice == "rock") {
                    computerScore++
                    result.textContent=`You lose! ${computerChoice} beats ${humanChoice}`;
                } 
            }

            const button = addEventListener("click", () => {
                let target = event.target;
                switch(target.id) {
                    case 'r':
                        computerSelection = getComputerChoice();
                        playRound("rock", computerSelection);
                        break;
                    case 'p':
                        computerSelection = getComputerChoice();
                        playRound("paper", computerSelection);
                        break;
                    case 's':
                        computerSelection = getComputerChoice();
                        playRound("scissors", computerSelection);
                        break;
                }
                //score.textContent = `${humanScore}-${computerScore}`;
                if (humanScore === 5) {
                    alert(`You win ${humanScore}-${computerScore}!`);
                    humanScore = 0;
                    computerScore = 0;
                }  else if (computerScore === 5) {
                    alert(`You lose ${humanScore}-${computerScore}!`);
                    humanScore = 0;
                    computerScore = 0;
                }
                score.textContent = `${humanScore}-${computerScore}`;
            });
        </script>
    </body>
</html>