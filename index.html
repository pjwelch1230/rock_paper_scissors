<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock! Paper! Scissors!</title>
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <div class="title">
            Rock! Paper! Scissors!
        </div>
        <div class="button-div">
            <button type="button">
                <img src="./assets/rock.png" alt="rock" id="r" class="bg-img">
            </button>
            <button type="button">
                <img src="./assets/paper.png" alt="paper" id="p" class="bg-img">
            </button>
            <button type="button">
                <img src="./assets/scissors.png" alt="scissors" id="s" class="bg-img">
            </button>
        </div>
        <div class="bottom">
            <div id="result"></div>
            <div id="score"></div>
        </div>
        <script>
            let humanScore = 0;
            let computerScore = 0;
            
            const result = document.querySelector("#result");
            result.textContent = "PRESS A BUTTON TO BEGIN";

            const score = document.querySelector("#score"); 
            score.textContent = `${humanScore}-${computerScore}`;

            function getComputerChoice() {
                let choice = Math.floor(Math.random() * 3);
                switch (choice) {
                    case 0:
                        return "Rock";
                        break;
                    case 1:
                        return "Paper";
                        break;
                    case 2:
                        return "Scissors";
                        break;
                }
            }

            function playRound(humanChoice, computerChoice){
                if (humanChoice == computerChoice) {
                    result.textContent="Draw!";
                }  else if (humanChoice == "Paper" && computerChoice == "Rock") {
                    humanScore++
                    result.textContent=`You win! ${humanChoice} beats ${computerChoice}!`;
                }  else if (humanChoice == "Rock" && computerChoice == "Scissors") {
                    humanScore++
                    result.textContent=`You win! ${humanChoice} beats ${computerChoice}!`;
                }  else if (humanChoice == "Scissors" && computerChoice == "Paper") {
                    humanScore++
                    result.textContent=`You win! ${humanChoice} beats ${computerChoice}!`;
                }  else if (humanChoice == "Rock" && computerChoice == "Paper") {
                    computerScore++
                    result.textContent=`You lose! ${computerChoice} beats ${humanChoice}`;
                }  else if (humanChoice == "Paper" && computerChoice == "Scissors") {
                    computerScore++
                    result.textContent=`You lose! ${computerChoice} beats ${humanChoice}`;
                }  else if (humanChoice == "Scissors" && computerChoice == "Rock") {
                    computerScore++
                    result.textContent=`You lose! ${computerChoice} beats ${humanChoice}`;
                } 
            }

            const button = addEventListener("click", () => {
                let target = event.target;
                switch(target.id) {
                    case 'r':
                        computerSelection = getComputerChoice();
                        playRound("Rock", computerSelection);
                        break;
                    case 'p':
                        computerSelection = getComputerChoice();
                        playRound("Paper", computerSelection);
                        break;
                    case 's':
                        computerSelection = getComputerChoice();
                        playRound("Scissors", computerSelection);
                        break;
                }
                //score.textContent = `${humanScore}-${computerScore}`;
                if (humanScore === 3) {
                    alert(`You win ${humanScore}-${computerScore}!`);
                    humanScore = 0;
                    computerScore = 0;
                    result.textContent = "PRESS A BUTTON TO BEGIN";
                }  else if (computerScore === 3) {
                    alert(`You lose ${humanScore}-${computerScore}!`);
                    humanScore = 0;
                    computerScore = 0;
                    result.textContent = "PRESS A BUTTON TO BEGIN";
                }
                score.textContent = `${humanScore}-${computerScore}`;
            });
        </script>
    </body>
</html>